{"version":3,"file":"js/254.js","mappings":"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","sources":["webpack://medicalbookapp/./src/composebles/useApi.js","webpack://medicalbookapp/./src/pages/users/NotePage.vue","webpack://medicalbookapp/./src/pages/users/NotePage.vue?df9b","webpack://medicalbookapp/./src/pages/users/NotePage.vue?b397","webpack://medicalbookapp/./src/pages/users/NotePage.vue?7591"],"sourcesContent":["/* eslint-disable linebreak-style */\nimport useSupabase from 'boot/supabase';\n// import useAuthUser from './useAuthUser';\n\nexport default function useApi() {\n  const { supabase } = useSupabase();\n\n  // const { user } = useAuthUser();\n\n  const list = async (table) => {\n    const { data, error } = await supabase\n      .from(table)\n      .select('*');\n    if (error) throw error;\n    return data;\n  };\n\n  const getById = async (table, id) => {\n    const { data, error } = await supabase\n      .from(table)\n      .select('*')\n      .eq('id', id);\n    if (error) throw error;\n    return data[0];\n  };\n\n  const getByField = async (table, field, value) => {\n    const { data, error } = await supabase\n      .from(table)\n      .select('*')\n      .eq(field, value);\n    if (error) throw error;\n    return data;\n  };\n\n  const joinTables = async (origin, tables) => {\n\n    const fields = tables.reduce((previousValue, currentValue, index) => {\n\n      return `${previousValue.name}:${previousValue.foreign_key}(${previousValue.fields})` +\n        ',' + `${currentValue.name}:${currentValue.foreign_key}(${currentValue.fields})`\n    });\n\n\n    const { data, error } = await supabase\n      .from(origin)\n      .select(`*,${fields}`)\n    if (error) throw error;\n\n    console.log(data)\n    return data;\n  };\n\n\n  const post = async (table, form) => {\n    const { data, error } = await supabase\n      .from(table)\n      .insert([\n        {\n          ...form,\n          // user_id: user.value.id,\n        },\n      ]);\n    if (error) throw error;\n    return data;\n  };\n\n  const update = async (table, form) => {\n    const { data, error } = await supabase\n      .from(table)\n      .update([\n        { ...form },\n      ])\n      .match({ id: form.id });\n    if (error) throw error;\n    return data;\n  };\n\n  const remove = async (table, id) => {\n    const { data, error } = await supabase\n      .from(table)\n      .delete()\n      .match({ id });\n\n    if (error) throw error;\n    return data;\n  };\n\n  const removeWhere = async (table, field,id) => {\n    const { data, error } = await supabase\n      .from(table)\n      .delete()\n      .match({ [field]: id });\n\n    if (error) throw error;\n    return data;\n  };\n\n\n  return {\n    getByField,\n    list,\n    getById,\n    post,\n    update,\n    remove,\n    removeWhere,\n    joinTables\n  };\n}\n","<template>\n  <q-page padding class=\"row justify-center q-gutter-sm\">\n    <div class=\"col-6 col-xs-12 col-md-6 col-lg-6 col-xl-6\">\n      <q-input\n        class=\"q-mt-md\"\n        outlined\n        rounded\n        bottom-slots\n        v-model=\"text\"\n        placeholder=\"Pesquise uma nota\"\n        dense\n        @update:model-value=\"searchNote()\"\n      >\n        <template v-slot:append>\n          <q-icon\n            v-if=\"text !== ''\"\n            name=\"close\"\n            @click=\"text = ''\"\n            class=\"cursor-pointer\"\n          />\n          <q-icon name=\"search\" />\n        </template>\n      </q-input>\n      <div class=\"q-row\">\n        <div v-for=\"(i, index) in notas\" :key=\"index\">\n          <br />\n          <div class=\"q-pa-md\">\n            <div>\n              <q-input\n                borderless\n                v-model=\"i.content\"\n                filled\n                clearable\n                color=\"red-12\"\n                type=\"textarea\"\n                label=\"Nota\"\n                @blur=\"updateNote(i)\"\n              />\n              <div class=\"textarea-color\"></div>\n            </div>\n            <div class=\"q-mt-sm textarea-rodape\">\n              <strong class=\"row full-width\">\n                <span class=\"col-8 rodape-titulo\">\n                  <q-input\n                    outlined\n                    dense\n                    v-model=\"i.title\"\n                    @blur=\"updateNote(i)\"\n                    type=\"text\"\n                  />\n                </span>\n                <q-btn\n                  class=\"col-1\"\n                  flat\n                  round\n                  icon=\"delete\"\n                  color=\"red-5\"\n                  dense\n                  @click=\"removeNote(index, i.id)\"\n                >\n                </q-btn>\n              </strong>\n              <br /><span v-if=\"i.created_at\">\n                {{\n                  new Date(i.created_at).toLocaleString(\"pt-BR\", { timeZone: \"UTC\" })\n                }}</span\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n      <q-page-sticky position=\"bottom-right\" :offset=\"[18, 18]\">\n        <q-btn\n          @click=\"addDataBase\"\n          fab\n          color=\"green\"\n          icon=\"add\"\n          class=\"flax absolute-down\"\n        />\n      </q-page-sticky>\n      <br />\n      <q-inner-loading :showing=\"loading\" color=\"primary\" />\n    </div>\n  </q-page>\n</template>\n\n<script>\nimport { useQuasar } from \"quasar\";\nimport { getNote } from \"src/store/note/actions\";\nimport { defineComponent, ref, onMounted } from \"vue\";\n// import TextArea from 'components/TextArea.vue';\nimport useApi from \"../../composebles/useApi\";\nimport useAuthUser from \"../../composebles/useAuthUser\";\n\nexport default defineComponent({\n  name: \"NotePage\",\n  setup() {\n    const loading = ref(false);\n\n    const { user } = useAuthUser();\n\n    const notas = ref([]);\n\n    const form = ref({\n      content: \"\",\n      title: \"\",\n      date: null,\n      user_id: user.value.id,\n    });\n\n    const { post, getByField, update, remove } = useApi();\n    const $q = useQuasar();\n\n    const updateNote = async (note) => {\n      try {\n        await update(\"notas\", note);\n\n        $q.notify({\n          type: \"positive\",\n          message: `${note.title} atualizada`,\n        });\n      } catch (error) {\n        alert(error.message);\n      }\n    };\n\n    const addDataBase = async () => {\n      try {\n        const note = await post(\"notas\", {\n          title: \"Título da nota\",\n          content: \"Conteúdo\",\n          user_id: user.value.id,\n        });\n\n        $q.notify({\n          type: \"positive\",\n          message: \"Nota criada com sucesso!!\",\n        });\n        notas.value.push(note[0]);\n      } catch (error) {\n        alert(error.message);\n      }\n\n      lastNotes.value = [...notas.value];\n    };\n\n    const removeNote = async (index, id) => {\n      if (id) {\n        const isOk = confirm(\"Deseja realmente apagar essa nota?\");\n\n        if (isOk) {\n          await remove(\"notas\", id);\n          $q.notify({\n            type: \"warning\",\n            message: \"Nota elimana com sucesso!!\",\n          });\n          notas.value.splice(index, 1);\n        }\n      } else {\n        notas.value.splice(index, 1);\n      }\n      lastNotes.value = [...notas.value];\n    };\n\n    const text = ref(\"\");\n\n    const lastNotes = ref([]);\n\n    const searchNote = () => {\n      if (!text.value.trim().length) {\n        notas.value = [...lastNotes.value];\n      } else {\n        const result = notas.value.filter((note) => {\n          const searchNoteTitle = note.title.trim().toLowerCase();\n          const searchNoteContent = note.content.trim().toLowerCase();\n          const textSearch = text.value.trim().toLowerCase();\n          return (\n            searchNoteTitle.includes(textSearch) || searchNoteContent.includes(textSearch)\n          );\n        });\n        notas.value = [...result];\n      }\n    };\n\n    const getNoteByUser = async () => {\n      try {\n        loading.value = true;\n        notas.value = await getByField(\"notas\", \"user_id\", user.value.id);\n      } catch (error) {\n        alert(error.message);\n      } finally {\n        loading.value = false;\n      }\n    };\n    onMounted(() => {\n      getNoteByUser();\n    });\n\n    return {\n      updateNote,\n      searchNote,\n      removeNote,\n      addDataBase,\n      text,\n      loading,\n      notas,\n      color: {\n        type: String,\n        default: \"red\",\n      },\n    };\n  },\n});\n</script>\n","export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./NotePage.vue?vue&type=template&id=4f3d46b6\"","export { default } from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./NotePage.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./NotePage.vue?vue&type=script&lang=js\"","import { render } from \"./NotePage.vue?vue&type=template&id=4f3d46b6\"\nimport script from \"./NotePage.vue?vue&type=script&lang=js\"\nexport * from \"./NotePage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/patriciopedro/Desktop/Programming/JavaScript/Projects/medicalboo-app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QPage from 'quasar/src/components/page/QPage.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QPageSticky from 'quasar/src/components/page-sticky/QPageSticky.js';\nimport QInnerLoading from 'quasar/src/components/inner-loading/QInnerLoading.js';\nimport qInstall from \"../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(script, 'components', {QPage,QInput,QIcon,QBtn,QPageSticky,QInnerLoading});\n"],"names":["useSupabase","useApi","supabase","list","table","data","error","from","select","getById","id","eq","getByField","field","value","joinTables","origin","tables","fields","reduce","previousValue","currentValue","index","name","foreign_key","console","log","post","form","insert","update","match","remove","delete","removeWhere","class","_createElementVNode","_createBlock","_component_q_page","padding","_createVNode","_component_q_input","outlined","rounded","_ctx","$event","placeholder","dense","append","_component_q_icon","onClick","_createElementBlock","_Fragment","_renderList","i","key","_hoisted_3","borderless","content","filled","clearable","color","type","label","onBlur","_hoisted_5","title","_component_q_btn","flat","round","icon","_hoisted_9","created_at","_hoisted_10","_toDisplayString","Date","toLocaleString","timeZone","_component_q_page_sticky","position","offset","fab","_hoisted_11","_component_q_inner_loading","showing","useQuasar","getNote","defineComponent","ref","onMounted","useAuthUser","setup","loading","user","notas","date","user_id","$q","updateNote","note","notify","message","alert","addDataBase","push","lastNotes","removeNote","isOk","confirm","splice","text","searchNote","trim","length","result","filter","searchNoteTitle","toLowerCase","searchNoteContent","textSearch","includes","getNoteByUser","String","default"],"sourceRoot":""}