"use strict";(self["webpackChunkmedicalbookapp"]=self["webpackChunkmedicalbookapp"]||[]).push([[106],{811:(e,a,o)=>{o.d(a,{Z:()=>t});var l=o(2421);function t(){const{supabase:e}=(0,l["default"])(),a=async a=>{const{data:o,error:l}=await e.from(a).select("*");if(l)throw l;return o},o=async(a,o)=>{const{data:l,error:t}=await e.from(a).select("*").eq("id",o);if(t)throw t;return l[0]},t=async(a,o,l)=>{const{data:t,error:r}=await e.from(a).select("*").eq(o,l);if(r)throw r;return t},r=async(a,o)=>{const l=o.reduce(((e,a,o)=>`${e.name}:${e.foreign_key}(${e.fields}),${a.name}:${a.foreign_key}(${a.fields})`)),{data:t,error:r}=await e.from(a).select(`*,${l}`);if(r)throw r;return console.log(t),t},i=async(a,o)=>{const{data:l,error:t}=await e.from(a).insert([{...o}]);if(t)throw t;return l},s=async(a,o)=>{const{data:l,error:t}=await e.from(a).update([{...o}]).match({id:o.id});if(t)throw t;return l},n=async(a,o)=>{const{data:l,error:t}=await e.from(a).delete().match({id:o});if(t)throw t;return l},c=async(a,o,l)=>{const{data:t,error:r}=await e.from(a).delete().match({[o]:l});if(r)throw r;return t};return{getByField:t,list:a,getById:o,post:i,update:s,remove:n,removeWhere:c,joinTables:r}}},4106:(e,a,o)=>{o.r(a),o.d(a,{default:()=>H});var l=o(3673),t=o(2323);const r=(0,l._)("div",{class:"text-h5 q-pa-sm"},"Tipos de Abordagem",-1),i={class:"row q-pa-md q-gutter-sm"},s=(0,l._)("div",{class:"text-h6"},"Novo Tipo de abordagem",-1);function n(e,a,o,n,c,d){const p=(0,l.up)("q-input"),m=(0,l.up)("q-space"),u=(0,l.up)("q-btn"),f=(0,l.up)("q-card"),w=(0,l.up)("q-td"),y=(0,l.up)("q-tr"),g=(0,l.up)("q-table"),h=(0,l.up)("q-page"),b=(0,l.up)("q-card-section"),q=(0,l.up)("q-card-actions"),v=(0,l.up)("q-form"),_=(0,l.up)("q-dialog"),k=(0,l.up)("q-inner-loading"),W=(0,l.Q2)("ripple"),Z=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(h,{class:"q-pa-md"},{default:(0,l.w5)((()=>[r,(0,l.Wm)(f,{class:"q-mb-sm",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(p,{class:"col-7 col-sm-7 col-md-7 col-xs-12 col-lg-7 col-xl-7",modelValue:e.filter,"onUpdate:modelValue":a[0]||(a[0]=a=>e.filter=a),placeholder:"Pesquisar abordagem",dense:"",outlined:""},null,8,["modelValue"]),(0,l.Wm)(m),(0,l.Wm)(u,{class:"col-2 col-sm-2 col-md-2 col-xs-12 col-lg-2 col-xl-2",color:"primary",label:"Nova tipo",onClick:a[1]||(a[1]=a=>e.newDialog()),"no-caps":"",rounded:""}),(0,l.Wm)(u,{class:"col-2 col-sm-2 col-md-2 col-xs-12 col-lg-2 col-xl-2",color:"primary",label:"Atualizar",onClick:a[2]||(a[2]=a=>e.listAll()),"no-caps":"",rounded:""})])])),_:1}),(0,l.Wm)(g,{dense:e.$q.screen.lt.md,flat:"",square:"",bordered:"",title:"Lista de tipos de abordagem",rows:e.rows,columns:e.columns,"visible-columns":["title","options"],"row-key":"title",filter:e.filter,separator:"cell"},{body:(0,l.w5)((a=>[(0,l.Wm)(y,{props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{key:"title",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(a.row.type_approach),1)])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"definition",props:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(a.row.definition),1)])),_:2},1032,["props"]),(0,l.Wm)(w,{key:"options",class:"text-center",props:a},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{flat:"",square:"",icon:"edit",onClick:o=>e.newDialog(a.row),dense:""},null,8,["onClick"]),(0,l.Wm)(u,{flat:"",square:"",icon:"delete",onClick:o=>e.confirmDelete(a.row.id),dense:""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["dense","rows","columns","filter"])])),_:1}),(0,l._)("div",null,[(0,l.Wm)(_,{modelValue:e.dialogCategory,"onUpdate:modelValue":a[4]||(a[4]=a=>e.dialogCategory=a),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{style:{"min-width":"350px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(v,{onSubmit:e.saveItem},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{dense:"",modelValue:e.formData.type_approach,"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.type_approach=a),modelModifiers:{trim:!0},autofocus:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(q,{align:"right",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(u,{label:"Cancelar",color:"primary","no-caps":""},null,512),[[W],[Z]]),(0,l.wy)((0,l.Wm)(u,{label:"Salvar",color:"primary",type:"submit","no-caps":""},null,512),[[W],[Z]])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(k,{showing:e.loading,label:"Atualizando...","label-class":"text-primary",color:"primary","label-style":"font-size: 1.1em"},null,8,["showing"])])],64)}o(2100);var c=o(1959),d=o(8825),p=o(811);const m=[{name:"title",required:!0,label:"Nome do tipo",align:"left",field:"title",sortable:!0},{name:"options",align:"center",label:"Ação",field:"options",sortable:!0}],u=(0,l.aZ)({setup(){const e=(0,c.iH)(!0),a=(0,d.Z)(),{list:o,post:t,update:r,remove:i}=(0,p.Z)(),s=(0,c.iH)([]),n=(0,c.iH)([]),u=(0,c.qj)({type_approach:"",id:null}),f=async()=>{try{e.value=!0,s.value=await o("type_approach"),e.value=!1}catch(a){alert(a)}},w=async a=>{try{e.value=!0,await i("type_approach",a),f(),e.value=!1}catch(o){alert(o)}},y=async()=>{try{e.value=!0,u.id?(alert(JSON.stringify(u.id)),await r("type_approach",u)):(delete u.id,await t("type_approach",u)),f(),e.value=!1}catch(a){alert(a)}};(0,l.bv)((()=>{f()}));const g=async()=>{},h=(0,c.iH)(!1),b=e=>{e?Object.keys(e).forEach((a=>{u[a]=e[a]})):u.type_approach="",h.value=!0};function q(e){a.dialog({title:"Eliminar registro",message:"Gostaria de apagar este registro?",persistent:!0,cancel:"Cancelar"}).onOk((()=>{w(e)})).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}const v=(0,c.iH)("");return{filter:v,confirmDelete:q,newDialog:b,formData:u,loading:e,deleteItem:w,dialogCategory:h,saveItem:y,onItemClick:g,columns:m,rows:s,listAll:f,topics:n,varDialogPassword:(0,c.iH)(!1)}}});var f=o(4260),w=o(4379),y=o(151),g=o(4842),h=o(2025),b=o(2165),q=o(8468),v=o(8186),_=o(3884),k=o(6778),W=o(5589),Z=o(5269),C=o(9367),Q=o(6941),x=o(6489),D=o(677),V=o(7518),$=o.n(V);const A=(0,f.Z)(u,[["render",n]]),H=A;$()(u,"components",{QPage:w.Z,QCard:y.Z,QInput:g.Z,QSpace:h.Z,QBtn:b.Z,QTable:q.Z,QTr:v.Z,QTd:_.Z,QDialog:k.Z,QCardSection:W.Z,QForm:Z.Z,QCardActions:C.Z,QInnerLoading:Q.Z}),$()(u,"directives",{Ripple:x.Z,ClosePopup:D.Z})}}]);