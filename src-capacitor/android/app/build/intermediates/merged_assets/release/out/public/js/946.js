"use strict";(self["webpackChunkmedicalbookapp"]=self["webpackChunkmedicalbookapp"]||[]).push([[946],{811:(a,e,t)=>{t.d(e,{Z:()=>o});var r=t(2421);function o(){const{supabase:a}=(0,r["default"])(),e=async e=>{const{data:t,error:r}=await a.from(e).select("*");if(r)throw r;return t},t=async(e,t)=>{const{data:r,error:o}=await a.from(e).select("*").eq("id",t);if(o)throw o;return r[0]},o=async(e,t,r)=>{const{data:o,error:i}=await a.from(e).select("*").eq(t,r);if(i)throw i;return o},i=async(e,t)=>{const r=t.reduce(((a,e,t)=>`${a.name}:${a.foreign_key}(${a.fields}),${e.name}:${e.foreign_key}(${e.fields})`)),{data:o,error:i}=await a.from(e).select(`*,${r}`);if(i)throw i;return console.log(o),o},s=async(e,t)=>{const{data:r,error:o}=await a.from(e).insert([{...t}]);if(o)throw o;return r},c=async(e,t)=>{const{data:r,error:o}=await a.from(e).update([{...t}]).match({id:t.id});if(o)throw o;return r},n=async(e,t)=>{const{data:r,error:o}=await a.from(e).delete().match({id:t});if(o)throw o;return r},l=async(e,t,r)=>{const{data:o,error:i}=await a.from(e).delete().match({[t]:r});if(i)throw i;return o};return{getByField:o,list:e,getById:t,post:s,update:c,remove:n,removeWhere:l,joinTables:i}}},6804:(a,e,t)=>{t.d(e,{Z:()=>b});t(71);var r=t(3673),o=t(2323);const i=a=>((0,r.dD)("data-v-ac079208"),a=a(),(0,r.Cn)(),a),s={class:"q-link cursor-pointer q-ma-xs"},c={class:"row"},n={class:"col-grow-1 q-pa-xs"},l={class:"column"},d=i((()=>(0,r._)("div",{class:"col-grow-1"},[(0,r._)("div",{class:"q-approach-bar"})],-1)));function p(a,e,t,i,p,u){const m=(0,r.up)("q-rating"),g=(0,r.up)("q-banner");return(0,r.wg)(),(0,r.iD)("a",s,[(0,r.Wm)(g,{rounded:"",class:"bg-white text-grey-6 q-approach"},{default:(0,r.w5)((()=>[(0,r._)("div",c,[(0,r._)("div",{onClick:e[0]||(e[0]=(...e)=>a.go&&a.go(...e)),class:"col q-py-xs"},(0,o.zw)(a.title.title),1),(0,r._)("div",n,[(0,r._)("div",l,[(0,r.Wm)(m,{onClick:a.addFavorit,max:"1",modelValue:a.ratingModel,"onUpdate:modelValue":e[1]||(e[1]=e=>a.ratingModel=e),name:"quality",size:"2em",color:"yellow",icon:"star_border","icon-selected":"star","no-dimming":""},null,8,["onClick","modelValue"])])]),d])])),_:1})])}t(2100);var u=t(4605),m=t(1959),g=t(9582),h=t(811),y=t(4958);const w=(0,r.aZ)({name:"ApproachButtom",props:{title:{type:Object,required:"Sem titulo"},icon:{type:String,default:"img:img/feto.png"},color:{type:String,default:""},accessCap:{type:Boolean,default:!0}},setup(a){const{user:e}=(0,y.Z)(),t=(0,g.tv)(),o=(0,m.iH)(!0),{post:i,remove:s,getByField:c}=(0,h.Z)(),n={user_id:"",approach_id:""},l=async(e,r)=>{t.push(`/approach-detail/${a.title.id}`)},d=(0,m.iH)(0),p=async()=>{try{const e=await c("favorite_approach_user","approach_id",a.title.id);e.length>0?d.value=1:d.value=0}catch(e){(0,u.s)(`falha na Operação Pelo Seguinte Erro: ${JSON.stringify(e)}`)}},w=async()=>{try{if(1!==d.value){const e=await c("favorite_approach_user","approach_id",a.title.id);await s("favorite_approach_user",e[0].id)}else n.user_id=e.value.id,n.approach_id=a.title.id,o.value=!0,await i("favorite_approach_user",n),o.value=!1,(0,u.L)(" Adicionado aos favoritos com sucesso !!!")}catch(t){(0,u.s)(JSON.stringify(t))}};return(0,r.bv)((async()=>{await p()})),{addFavorit:w,go:l,ratingModel:d}}});var _=t(4260),f=t(5607),v=t(8833),q=t(7518),k=t.n(q);const Z=(0,_.Z)(w,[["render",p],["__scopeId","data-v-ac079208"]]),b=Z;k()(w,"components",{QBanner:f.Z,QRating:v.Z})},1946:(a,e,t)=>{t.r(e),t.d(e,{default:()=>Z});var r=t(3673),o=t(2323);const i={class:"column q-pa-sm q-gutter-y-md"},s={class:"text-h4"},c={key:0};function n(a,e,t,n,l,d){const p=(0,r.up)("ApproachButtom"),u=(0,r.up)("q-list"),m=(0,r.up)("q-spinner"),g=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(g,{padding:"",class:"constrain"},{default:(0,r.w5)((()=>[(0,r._)("div",i,[(0,r._)("div",s,(0,o.zw)(a.topic.name),1),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.typeApproches,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"text-h6 q-my-sm",key:e.id},[a.approachs.filter((a=>e.id===a.type_approach_id)).length>0?((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Uk)((0,o.zw)(e.type_approach)+" ",1),(0,r.Wm)(u,{class:(0,o.C_)(["row justify-start q-gutter-sm q-mt-lg",{"no-wrap":a.$q.screen.width>599}])},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.approachs.filter((a=>e.id===a.type_approach_id)),(e=>((0,r.wg)(),(0,r.iD)("div",{class:"col-xs-12 col-sm-12 col-md-6 col-xl-3 col-lg-6",key:e.id},[(0,r.Wm)(p,{class:"rounded-borders full-width",outline:"",align:"left",color:"grey-8",padding:"md","no-caps":"",title:e,onClick:t=>a.go(e.id)},null,8,["title","onClick"])])))),128))])),_:2},1032,["class"])])):(0,r.kq)("",!0)])))),128))])]),a.loading?((0,r.wg)(),(0,r.j4)(m,{key:0,size:"xl",color:"primary"})):(0,r.kq)("",!0)])),_:1})}var l=t(4605),d=t(1959),p=t(9582),u=t(6804),m=t(811),g=t(4958);const h=(0,r.aZ)({name:"ProfilePage",components:{ApproachButtom:u.Z},setup(){const a=(0,p.yj)(),e=(0,p.tv)(),t=(0,d.iH)(!0),o=(0,d.iH)(!0),{list:i,getById:s,post:c,getByField:n}=(0,m.Z)(),{user:u}=(0,g.Z)(),h=(0,d.iH)([]),y=(0,d.iH)([]),w=async()=>{try{y.value=await i("type_approach")}catch(a){alert(a.message)}},_=async()=>{try{t.value=!0,h.value=await n("approach","topic_id",a.params.id),t.value=!1,o.value=!1}catch(e){(0,l.s)(e)}},f=async()=>{try{const e={id:null,topic_id:null,access_date:null,times_access:7,user_id:null};e.topic_id=a.params.id,e.user_id=u.value.id,e.id=a.params.id,e.access_date=new Date;const t=await s("access_topic_user",a.params.id);t||c("access_topic_user",e)}catch(e){(0,l.s)(e)}},v=async a=>{e.push(`/approach-detail/${a}`)},q=(0,d.iH)({name:""});return(0,r.bv)((async()=>{q.value=await s("topic",a.params.id),await _(),w(),await f()})),{go:v,topic:q,loading:t,typeApproches:y,loading1:o,text:(0,d.iH)(""),approachs:h,slide:(0,d.iH)("style"),rota:"approach"}}});var y=t(4260),w=t(4379),_=t(7011),f=t(6833),v=t(7518),q=t.n(v);const k=(0,y.Z)(h,[["render",n],["__scopeId","data-v-2a7c8aae"]]),Z=k;q()(h,"components",{QPage:w.Z,QList:_.Z,QSpinner:f.Z})}}]);